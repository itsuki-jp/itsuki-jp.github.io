<!DOCTYPE html>
<html lang="ja">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Next.jsのチュートリアル感想戦 | n_itsuki&#39;s blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Next.jsのチュートリアルをやってみた">
    <meta name="generator" content="Hugo 0.135.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    
      <meta name="author" content = "n_itsuki">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      
<link rel="shortcut icon" href="/images/github-mark.png" type="image/x-icon" />


    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/nextjs%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%E6%84%9F%E6%83%B3%E6%88%A6/">
    

    <meta property="og:url" content="http://localhost:1313/posts/nextjs%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%E6%84%9F%E6%83%B3%E6%88%A6/">
  <meta property="og:site_name" content="n_itsuki&#39;s blog">
  <meta property="og:title" content="Next.jsのチュートリアル感想戦">
  <meta property="og:description" content="Next.jsのチュートリアルをやってみた">
  <meta property="og:locale" content="ja">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-10-10T22:34:39+09:00">

  <meta itemprop="name" content="Next.jsのチュートリアル感想戦">
  <meta itemprop="description" content="Next.jsのチュートリアルをやってみた">
  <meta itemprop="datePublished" content="2024-08-18T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-10-10T22:34:39+09:00">
  <meta itemprop="wordCount" content="721">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Next.jsのチュートリアル感想戦">
  <meta name="twitter:description" content="Next.jsのチュートリアルをやってみた">

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        n_itsuki&#39;s blog
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
    
    <a href="itsuki_jpnlonvn" target="_blank" rel="noopener" class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="itsuki-jp" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
      
      <a href="https://twitter.com/intent/tweet?url=http://localhost:1313/posts/nextjs%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%E6%84%9F%E6%83%B3%E6%88%A6/&amp;text=Next.js%e3%81%ae%e3%83%81%e3%83%a5%e3%83%bc%e3%83%88%e3%83%aa%e3%82%a2%e3%83%ab%e6%84%9f%e6%83%b3%e6%88%a6" class="ananke-social-link twitter no-underline" aria-label="share on Twitter">
        
        <span class="icon"> <svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
        
      </a>
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Next.jsのチュートリアル感想戦</h1>
      
      <p class="tracked">
        By <strong>n_itsuki</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2024-08-18T00:00:00Z">August 18, 2024</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p><a href="https://nextjs.org/learn/dashboard-app">Learn Next.js</a>をやってみてのメモ</p>
<p>後半にすすむにつれ、意味が分からなくなり、雑になっていった&hellip;</p>
<p>特にCh13以降(エラー処理・フォームバリデーション・認証と認可)は意味不明だったので、おいおい出来たら良いな～という気持ちです</p>
<h1 id="ch3-optimizing-fonts-and-imageshttpsnextjsorglearndashboard-appoptimizing-fonts-images"><a href="https://nextjs.org/learn/dashboard-app/optimizing-fonts-images">Ch3: Optimizing Fonts and Images</a></h1>
<h2 id="image">Image</h2>
<ul>
<li><code>md:block</code> &lt;-これは、<code>medium</code>らしい</li>
<li><a href="https://nextjs.org/docs/app/building-your-application/optimizing/images">Image Optimization</a></li>
</ul>
<h1 id="ch4-layouts-and-pageshttpsnextjsorglearndashboard-appcreating-layouts-and-pages"><a href="https://nextjs.org/learn/dashboard-app/creating-layouts-and-pages">Ch4: Layouts and Pages</a></h1>
<h2 id="nested-routing">Nested Routing</h2>
<ul>
<li>フォルダ配下の <code>page.tsx</code> は特別で、例えば <code>app/page.tsx</code> は <code>/</code>, <code>app/oyo/page.tsx</code> は <code>/oyo</code> にアクセスすると表示される
<img src="https://nextjs.org/_next/image?url=%2Flearn%2Flight%2Ffolders-to-url-segments.png&w=3840&q=75"></li>
</ul>
<h2 id="layout">layout</h2>
<ul>
<li><code>layout.tsx</code> は他のページと共有するUIを作れる
<img src="https://nextjs.org/_next/image?url=%2Flearn%2Flight%2Fshared-layout.png&w=3840&q=75"></li>
<li><code>page</code> コンポーネントは再レンダリングされるけど、レイアウトはされないので、（たぶん効率が良い）</li>
</ul>
<h1 id="ch5-navigating-between-pageshttpsnextjsorglearndashboard-appnavigating-between-pages"><a href="https://nextjs.org/learn/dashboard-app/navigating-between-pages">Ch5: Navigating Between Pages</a></h1>
<h2 id="link">Link</h2>
<ul>
<li><code>Link</code>を使うと、ページ丸ごとリロードすることなく遷移できる
<ul>
<li>変わってないじゃん？と思ったが、ブラウザのページのアイコンがぐるぐるしているかどうかで判定できる</li>
</ul>
</li>
<li>コードを<strong>prefetch</strong>してくれるので、クリック時にはすでに目的のページが裏でロードされてる
<ul>
<li>めちゃはやく表示できる</li>
<li>参考：https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#how-routing-and-navigation-works</li>
</ul>
</li>
</ul>
<h2 id="usepathname">usePathname()</h2>
<ul>
<li>クライアントコンポーネントにする必要がある</li>
<li>参考：https://nextjs.org/docs/app/api-reference/functions/use-pathname</li>
</ul>
<h2 id="clsx">clsx</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">clsx</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;flex h-[48px] grow items-center justify-center gap-2 rounded-md bg-gray-50 p-3 text-sm font-medium hover:bg-sky-100 hover:text-blue-600 md:flex-none md:justify-start md:p-2 md:px-3&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;bg-sky-100 text-blue-600&#39;</span><span class="o">:</span> <span class="nx">pathname</span> <span class="o">===</span> <span class="nx">link</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">)}</span>
</span></span></code></pre></div><ul>
<li><code>pathname === link.href</code>の時に、追加で<code>bg-sky-100 text-blue-600</code>が追加される</li>
</ul>
<h1 id="ch6-setting-up-your-databasehttpsnextjsorglearndashboard-appsetting-up-your-database"><a href="https://nextjs.org/learn/dashboard-app/setting-up-your-database">Ch.6: Setting Up Your Database</a></h1>
<ul>
<li>データを DB に登録することを<code>seeding</code>と呼ぶ</li>
</ul>
<h1 id="ch7-fetching-datahttpsnextjsorglearndashboard-appfetching-datausing-server-components-to-fetch-data"><a href="https://nextjs.org/learn/dashboard-app/fetching-data#using-server-components-to-fetch-data">Ch.7: Fetching Data</a></h1>
<h2 id="choosing-how-to-fetch-data">Choosing how to fetch data</h2>
<p>API</p>
<ul>
<li>外部の API を提供してるサービスを使いたい時</li>
<li>データを秘密にしておきたい時</li>
<li><a href="https://nextjs.org/docs/app/building-your-application/routing/route-handlers">https://nextjs.org/docs/app/building-your-application/routing/route-handlers</a></li>
</ul>
<p>データベースクエリ</p>
<ul>
<li>DB をいじいじする必要があるとき</li>
<li>React Server Component を使ってるとき
<ul>
<li>ch11にて再度登場するやつ</li>
<li>DB を直接クエリ操作できる。DB の漏洩をリスクがない</li>
</ul>
</li>
<li><a href="https://vercel.com/docs/storage/vercel-postgres/using-an-orm">https://vercel.com/docs/storage/vercel-postgres/using-an-orm</a></li>
</ul>
<h2 id="react-server-components">React Server Components</h2>
<p>どうやら新しい機能らしい。デフォで使われてる</p>
<p>メリット</p>
<ul>
<li>非同期処理が楽になる？<code>useEffect</code>/<code>useState</code>を使わなくても、<code>async/await</code>が使える？</li>
<li>サーバーで実行されるから
<ul>
<li>結果のみクライアントに送られる（データ・ロジックはサーバーのみが保持できる）</li>
<li>直接 DB をクエリ操作できる</li>
</ul>
</li>
</ul>
<p>問題点</p>
<ul>
<li>
<p><code>request waterfall</code>が発生する</p>
<ul>
<li>
<p>前のリクエストが終了したら、次のが実行される。並列処理されてない</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">revenue</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetchRevenue</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">latestInvoices</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetchLatestInvoices</span><span class="p">();</span> <span class="c1">// fetchRevenue()が終わるまで待つ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">numberOfInvoices</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">numberOfCustomers</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">totalPaidInvoices</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">totalPendingInvoices</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetchCardData</span><span class="p">();</span> <span class="c1">// fetchLatestInvoices()が終わるまで待つ
</span></span></span></code></pre></div><ul>
<li>対処法として、<code>Promise.all()</code>で並列に処理
<ul>
<li>どれかのリクエストがめっちゃ遅かったらどうなる&hellip;?
<ul>
<li>データを動的に読み込むのであれば、遅い処理があればそりゃページ読み込む速度遅くなるよね</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">fetchCardData</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">invoiceCountPromise</span> <span class="o">=</span> <span class="nx">sql</span><span class="sb">`SELECT COUNT(*) FROM invoices`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">customerCountPromise</span> <span class="o">=</span> <span class="nx">sql</span><span class="sb">`SELECT COUNT(*) FROM customers`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">invoiceStatusPromise</span> <span class="o">=</span> <span class="nx">sql</span><span class="sb">`SELECT
</span></span></span><span class="line"><span class="cl"><span class="sb">        SUM(CASE WHEN status = &#39;paid&#39; THEN amount ELSE 0 END) AS &#34;paid&#34;,
</span></span></span><span class="line"><span class="cl"><span class="sb">        SUM(CASE WHEN status = &#39;pending&#39; THEN amount ELSE 0 END) AS &#34;pending&#34;
</span></span></span><span class="line"><span class="cl"><span class="sb">        FROM invoices`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Promise.all()で並列に処理
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">+</span> <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="kr">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">    <span class="nx">invoiceCountPromise</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">customerCountPromise</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">invoiceStatusPromise</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<img src="https://nextjs.org/_next/image?url=%2Flearn%2Flight%2Fsequential-parallel-data-fetching.png&w=3840&q=75">
</li>
</ul>
</li>
<li>
<p><code>static rendering</code>(静的レンダリング)なので、データが変化しても表示は変化しない</p>
<ul>
<li>SQL が問い合わせてる先のデータが削除・追加されても、そのつど SQL が実行されるわけじゃない</li>
</ul>
</li>
<li></li>
</ul>
<h2 id="fetching-data-for-the-dashboard-overview-page">fetching data for the dashboard overview page</h2>
<ul>
<li><code>export default async function Page()</code>の<code>async</code>が<code>await</code>を使えるようにする</li>
<li><code>const data = await sql&lt;Revenue&gt;`SELECT * FROM revenue`;</code>で SQL が実行できそう</li>
</ul>
<h1 id="ch8-static-and-dynamic-renderinghttpsnextjsorglearndashboard-appstatic-and-dynamic-rendering"><a href="https://nextjs.org/learn/dashboard-app/static-and-dynamic-rendering">Ch.8: Static and Dynamic Rendering</a></h1>
<ul>
<li>静的レンダリング：ユーザーが訪れるたびに、キャッシュされたのが提供される</li>
<li>メリット
<ul>
<li>早い</li>
<li>サーバーの負担が少ない</li>
<li>SEO対策になる。クローラーが喜ぶ</li>
</ul>
</li>
<li>向いてる場所
<ul>
<li>データを使わないサイト</li>
<li>みんな共通のデータ（不変）を使う</li>
</ul>
</li>
<li>動的レンダリング
<ul>
<li>クッキーとか、URL のパラメータとかの、リクエスト時にのみ得られる情報にアクセスできる</li>
<li>ただ、データのフェッチに時間がかかると、ページ読み込みもその分遅くなる</li>
</ul>
</li>
</ul>
<h1 id="ch9-streaminghttpsnextjsorglearndashboard-appstreaming"><a href="https://nextjs.org/learn/dashboard-app/streaming">Ch.9: Streaming</a></h1>
<h2 id="stream-について学ぼう">Stream について学ぼう</h2>
<ul>
<li>データを小さいまとまり（チャンク）にして、送れるぜ！になったら各々送る
<ul>
<li>早くなるよ
<img src="https://nextjs.org/_next/image?url=%2Flearn%2Flight%2Fserver-rendering-with-streaming.png&w=1920&q=75">
<img src="https://nextjs.org/_next/image?url=%2Flearn%2Flight%2Fserver-rendering-with-streaming-chart.png&w=1920&q=75"></li>
</ul>
</li>
<li>方法</li>
</ul>
<ol>
<li>loading.tsx ファイル</li>
</ol>
<ul>
<li><code>loading.tsx</code>は next.js の<code>Suspense</code>の特別なファイルらしい
<ul>
<li><code>page.tsx</code>みたいな、特殊な奴</li>
</ul>
</li>
</ul>
<ol start="2">
<li><code>&lt;Suspense&gt;</code>コンポーネント</li>
</ol>
<ul>
<li>何らかの条件が満たされるまで（例：データが読み込まれるまで）一部のレンダリングを延期できる</li>
<li>動的コンポーネントを Susppense でラップ、動的コンポーネントのロード中に表示するフォールバックコンポーネントを渡す</li>
</ul>
<h1 id="ch10-partial-prerenderinghttpsnextjsorglearndashboard-apppartial-prerendering"><a href="https://nextjs.org/learn/dashboard-app/partial-prerendering">Ch.10: Partial Prerendering</a></h1>
<ul>
<li>
<p>元々、ルート（ページ）全体を静的・動的レンダリングのどちらかに統一する必要があった</p>
<ul>
<li><code>if you call a dynamic function in a route (like querying your database), the entire route becomes dynamic.</code></li>
<li>でも、動的・静的どっちも使いたいね
<ul>
<li>大部分は静的に生成、一部は動的にデータ取得とか！</li>
</ul>
</li>
<li>
<img src="https://nextjs.org/_next/image?url=%2Flearn%2Flight%2Fdashboard-static-dynamic-components.png&w=3840&q=75">
</li>
</ul>
</li>
<li>
<p>Partial Prerendering(PPR): Next.js 14 で登場</p>
<ul>
<li><code>Suspense</code>を使って、動的に読み込む場所のスペースを残して静的レンダリング-&gt;動的コンテンツを非同期に読み込みレンダリング</li>
</ul>
</li>
<li>
<p>使い方</p>
<ul>
<li><code>Suspense</code>で動的なのをラップしてれば、基本的にコードを変えなくてもよい</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mjs" data-lang="mjs"><span class="line"><span class="cl"><span class="c1">// next.config.mjs
</span></span></span><span class="line"><span class="cl"><span class="c1">// 追記
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">nextConfig</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">experimental</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ppr</span><span class="o">:</span> <span class="s2">&#34;incremental&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// layout.tsx
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">experimental_ppr</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// 追記
</span></span></span></code></pre></div><ul>
<li>データフェッチを最適化しよう
<ol>
<li>データベースのリージョンは近所に</li>
<li><code>React Server Components</code>を使うと、ロジック・データがサーバー内のみに存在する
<ul>
<li>クライアントの JS が頑張らなくていい</li>
<li>データがクライアントに漏れる心配ない</li>
</ul>
</li>
<li>必要な分のデータは SQL で取得しよう
<ul>
<li>毎回の通信するデータが減る</li>
<li>in-memory に変換するようの JS が減る</li>
</ul>
</li>
<li>データは並列に取得しよう</li>
<li>Streaming で、重いデータが足を引っ張ってページがいつまでも表示されない&hellip;をなくそう
<ul>
<li>すべてロードされなくても、ユーザーが画面操作できるようにしたいね</li>
</ul>
</li>
<li>データフェッチを必要なコンポーネントに移すことで、どの部分をダイナミックにするかを分離できる</li>
</ol>
</li>
</ul>
<h1 id="ch11-adding-search-and-paginationhttpsnextjsorglearndashboard-appadding-search-and-pagination"><a href="https://nextjs.org/learn/dashboard-app/adding-search-and-pagination">Ch.11: Adding Search and Pagination</a></h1>
<ul>
<li>Pagination?: 検索件数がたくさんあるときに、下に出てくるあれ
<img src = "https://s3-alpha.figma.com/hub/file/3328835529/e6b30bf5-dcdd-4430-a971-97706bd0fe05-cover.png"></li>
</ul>
<h2 id="なんでurl-search-paramを使う">なんでURL search paramを使う？</h2>
<ul>
<li>他の方法として、クライアントの方でstate管理もできる</li>
<li>メリット
<ol>
<li>ブックマークや、他の人にURLでシェアできる</li>
<li>サーバーサイドレンダリングと初期読み込み：URLパラメータはサーバー上で直接処理できるから、初期の状態をレンダリングするとき便利</li>
<li>分析・トラッキング：クライアントでごちゃごちゃしなくても、クエリ・フィルターがURLに直接埋め込まれてるので、容易にユーザーの挙動を追跡できる</li>
</ol>
</li>
</ul>
<h2 id="検索機能で使う機能">検索機能で使う機能</h2>
<ul>
<li><code>useSearchParams</code>: URLのパラメータを取得可能
<ul>
<li><code>/dashboard/invoices?page=1&amp;query=pending</code> -&gt; <code>{page: '1', query: 'pending'}.</code></li>
</ul>
</li>
<li><code>usePathName</code>: 現在のURLを取得可能</li>
<li><code>useRouter</code>: ページの遷移が出来る（？）</li>
</ul>
<h2 id="debouncingディバウンシング">debouncing（ディバウンシング）</h2>
<ul>
<li>関数の発火を制限する
<ul>
<li>現状：ユーザーが一文字入力するたびに、検索している-&gt;サーバーが大変</li>
<li>理想：ユーザーが入力を止めた時に、発火させたい</li>
</ul>
</li>
<li>原理
<ol>
<li>発火：発火したら、タイマーがスタート</li>
<li>待機：もし再度発火 &amp; タイマーが時間切れじゃない -&gt; タイマーリセット</li>
<li>実行：もしタイマーが切れたら、関数実行
<code>pnpm i use-debounce</code></li>
</ol>
</li>
</ul>
<h2 id="tip-defaultvalue-vs-value">Tip: defaultValue vs value</h2>
<ul>
<li><code>value</code>: stateで入力値を管理してる
<ul>
<li>controlled components(?)にするため</li>
<li>reactがinputの状態を管理できる</li>
</ul>
</li>
<li><code>defaultValue</code>: stateで管理してない
<ul>
<li>inputのみが情報を管理・保持してる</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span>
</span></span><span class="line"><span class="cl">  <span class="na">className</span><span class="o">=</span><span class="s">&#34;peer block w-full rounded-md border border-gray-200 py-[9px] pl-10 text-sm outline-2 placeholder:text-gray-500&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">placeholder</span><span class="o">=</span><span class="p">{</span><span class="nx">placeholder</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">handleSearch</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}}</span>
</span></span><span class="line"><span class="cl">  <span class="na">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;query&#39;</span><span class="p">)</span><span class="o">?</span><span class="p">.</span><span class="nx">toString</span><span class="p">()}</span>
</span></span><span class="line"><span class="cl"><span class="p">/&gt;</span>
</span></span></code></pre></div><h2 id="usesearchparams-hook-vs-searchparams-props"><code>useSearchParams</code> hook vs <code>searchParams</code> props</h2>
<ul>
<li><code>useSearchParams</code>:  クライアントコンポーネント</li>
<li><code>searchParams</code>: サーバーコンポーネント</li>
</ul>
<h1 id="ch12-mutating-data-mutate-変化するhttpsnextjsorglearndashboard-appmutating-data"><a href="https://nextjs.org/learn/dashboard-app/mutating-data">Ch.12: Mutating Data (mutate: 変化する)</a></h1>
<h2 id="server-actionとは">Server Actionとは</h2>
<ul>
<li>サーバー上でコードを非同期で実行できる
<ul>
<li>APIを作らなくてもよい！</li>
<li>クライアント/サーバーコンポーネントから実行可能</li>
</ul>
</li>
<li>どうやら、セキュリティ面もいい感じらしい
<ul>
<li>encrypted closures, strict input checks, error message hashing, and host restrictions&hellip;</li>
</ul>
</li>
</ul>
<h2 id="invoiceを作ろう">invoiceを作ろう</h2>
<ul>
<li><code>use server;</code>: エクスポートされたのが、server actionになる。
<ul>
<li>クライアント・サーバーコンポーネントにて使用可能</li>
</ul>
</li>
<li>
<h2 id="formdataの情報を取得するためにはgetnameを使う"><code>formData</code>の情報を取得するためには、<code>.get(name)</code>を使う</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="s1">&#39;use server&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">createInvoice</span><span class="p">(</span><span class="nx">formData</span>: <span class="kt">FormData</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">rawFormData</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">customerId</span>: <span class="kt">formData.get</span><span class="p">(</span><span class="s1">&#39;customerId&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">amount</span>: <span class="kt">formData.get</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">status</span>: <span class="kt">formData.get</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>バリデーションしたい
<ul>
<li><code>typeof rawFormData.amount</code>: 型が分かる</li>
<li><a href="https://zod.dev/">Zod</a>: バリデーションライブラリ</li>
<li></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;zod&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">rawFormData</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">customerId</span>: <span class="kt">formData.get</span><span class="p">(</span><span class="s1">&#39;customerId&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">amount</span>: <span class="kt">formData.get</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">status</span>: <span class="kt">formData.get</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><ul>
<li>floatをなるべく扱わないようにしよう(intで管理できるのであれば、そうする)</li>
</ul>
</li>
<li><a href="https://nextjs.org/docs/app/building-your-application/caching#router-cache">client-side router cashe</a>
<ul>
<li>これ、良く分からない</li>
</ul>
</li>
</ul>
<h2 id="invoiceをアップデートしよう">invoiceをアップデートしよう</h2>
<ul>
<li><a href="https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes">Dynamic Route Seements</a>
<ul>
<li>正確な「segment name」を知らない &amp; ルートをデータを基に作りたい時に良い (ブログタイトル、製品ページ&hellip;)</li>
<li>
<img src="https://nextjs.org/_next/image?url=%2Flearn%2Flight%2Fedit-invoice-route.png&w=3840&q=75">
</li>
</ul>
</li>
<li>server actionにはpropsを渡せないから、bindを使う必要がある
<ul>
<li>クライアントコンポーネントから実行されなくて、サーバーで実行されるため</li>
</ul>
</li>
</ul>
<h2 id="tip-uuid-vs-auto-incrementing-key">Tip: UUID vs auto-incrementing key</h2>
<ul>
<li>auto-incrementing key: 短い</li>
<li>UUID: 長いけどたくさんのメリット
<ul>
<li>IDが衝突しない・ユニーク・列挙型攻撃に強い -&gt; 大きいDBに向いてる</li>
</ul>
</li>
</ul>
<h1 id="ch13-handling-errorshttpsnextjsorglearndashboard-apperror-handling"><a href="https://nextjs.org/learn/dashboard-app/error-handling">Ch.13: Handling Errors</a></h1>
<p><a href="https://nextjs.org/docs/app/api-reference/file-conventions/error">error.js</a>
<a href="https://nextjs.org/docs/app/api-reference/functions/not-found">notFound</a>
<a href="https://nextjs.org/docs/app/api-reference/file-conventions/not-found">not-found.js</a></p>
<h2 id="errortsx">error.tsx</h2>
<ul>
<li>エラーが発生したら表示するページ？
<ul>
<li>どんなエラーでも！</li>
</ul>
</li>
<li>fallback(前の画面に戻る？)UIを表示する</li>
<li>クライアントコンポーネント（<code>use client</code>）</li>
<li>2つのpropsを受け取る
<ul>
<li><code>error</code>: JSのError オブジェクト</li>
<li><code>reset</code>：route segment(前の画面？)を再レンダリングする</li>
</ul>
</li>
<li>ファイルを作って、中身を書く</li>
</ul>
<h2 id="notfound関数"><code>notFound</code>関数</h2>
<ul>
<li>リソースが存在しない時のみ</li>
<li>下のように、エラーが出そうなところでハンドリング、同じ階層に<code>not-found.tsx</code>を作成
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">notFound</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;next/navigation&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">invoice</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">notFound</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ul>
<h1 id="ch14-improving-accessibilityhttpsnextjsorglearndashboard-appimproving-accessibility"><a href="https://nextjs.org/learn/dashboard-app/improving-accessibility">Ch.14: Improving Accessibility</a></h1>
<h2 id="form-validation">Form Validation</h2>
<ul>
<li><code>useActionState</code>(クライアントコンポーネントで使う)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">FormSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="kt">object</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">z.string</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">customerId</span>: <span class="kt">z.string</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">invalid_type_error</span><span class="o">:</span> <span class="s1">&#39;Please select a customer.&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">amount</span>: <span class="kt">z.coerce</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="kt">number</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span> <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;Please enter an amount greater than $0.&#39;</span> <span class="p">}),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">status</span>: <span class="kt">z.enum</span><span class="p">([</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span> <span class="s1">&#39;paid&#39;</span><span class="p">],</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">invalid_type_error</span><span class="o">:</span> <span class="s1">&#39;Please select an invoice status.&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">date</span>: <span class="kt">z.string</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><ul>
<li>色々な機能が、色々なファイルに散らばってて、何が何だか</li>
</ul>
<h1 id="ch15-adding-authenticationhttpsnextjsorglearndashboard-appadding-authentication"><a href="https://nextjs.org/learn/dashboard-app/adding-authentication">Ch.15: Adding Authentication</a></h1>
<h2 id="authetication-vs-authorization">Authetication vs Authorization</h2>
<ul>
<li>Authentication(認証):身分を証明する行為（ユーザー名とパスワード的な）</li>
<li>Authorization（認可）: 認証された時、アプリをどこまで使っていいか決める（？）</li>
</ul>
<h2 id="nextauthjshttpsauthjsdevreferencenextjs"><a href="https://authjs.dev/reference/nextjs">NextAuth.js</a></h2>
<ul>
<li>認証の機能を使える
<ul>
<li>セッションの管理</li>
<li>サインイン・サインアウト&hellip;</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>pnpm i next-auth@beta
</code></pre><p>下の値を.envの<code>AUTH_SECRET</code>に記入する</p>
<pre tabindex="0"><code>openssl rand -base64 32
</code></pre><ul>
<li>やることがたくさんあって、何が何だか</li>
</ul>
<h1 id="memo">memo</h1>
<h2 id="よくわからんエラー">よくわからんエラー</h2>
<pre tabindex="0"><code>Next.js (15.0.0-canary.56) is outdated (learn more)

Unhandled Runtime Error
Error: Unsupported Server Component type: undefined
</code></pre><ul>
<li>これは<code>pnpm add next@canary</code>したら直った。</li>
<li><code>npm i next@latest</code>, <code>npm i next@canary</code>は無力だった</li>
</ul>
<h2 id="import-の謎">import の謎</h2>
<p><code>import { lusitana } from '@/app/ui/fonts';</code>と <code>import CardWrapper from '@/app/ui/dashboard/cards';</code>は何が違う？
なんで二通りの書き方が存在する？</p>
<ul>
<li>前者：名前付きインポート
<ul>
<li>下みたいに、モジュールが複数のエクスポート持つときに使う</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">lusitana</span> <span class="o">=</span> <span class="s1">&#39;some-value&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">anotherFont</span> <span class="o">=</span> <span class="s1">&#39;another-value&#39;</span><span class="p">;</span>
</span></span></code></pre></div></li>
<li>後者：デフォルトインポート
<ul>
<li>モジュールが一つしかエクスポートしない時に使う</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">CardWrapper</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">CardWrapper</span><span class="p">;</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="use-client"><code>use client</code>?</h2>
<ul>
<li>イベントリスナーとフックを使えるらしい</li>
</ul>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  n_itsuki's blog 2024 
  </a>
    <div>
<div class="ananke-socials">
  
    
    <a href="itsuki_jpnlonvn" target="_blank" rel="noopener" class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="itsuki-jp" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
